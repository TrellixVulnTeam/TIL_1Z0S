## 6.2 여러개의 하드디스크를 하나처럼 사용하기

>여려개의 하드디스크를 하나의 디스크처럼 사용할 수 있는 RAID와 LVM이 무엇인지



>#### 6.2.1 RAID의 정의와 개념
>
>###### 하드웨어 RAID
>
>- 하드웨어 RAID는 하드웨어 제조업체에서 여러개의 하드디스크를 연결한 장비를 만들어서 그 자체를 공급하는 것이다
>
>#### 소프트웨어 RAID
>
>- 하드디스크 여러개 있으면 운영체제에서 지원하는 방식으로 RAID를 구성하는 방법을 말한다


>### 6.2.2 RAID 레벨
>
>- 기본적을 7가지로 구성된다(Linear RAID, RAID 0, RAID 1, RAID 2 , RAID 3 , RAID 4 , RAID 5)
>
>  ![각RAID비교](https://user-images.githubusercontent.com/52269210/71659570-69fb4380-2d8b-11ea-83d0-2a5ff2f0df98.PNG)



>### Linear RAID 와  RAID0
>
>![linearraid와raid0비교](https://user-images.githubusercontent.com/52269210/71659582-74b5d880-2d8b-11ea-82a0-5777af73f3d9.PNG)
>
>
>
>- linear Raid : 하드디스크에 데이터가 완전히 저장된 후, 다음 하드디스크에 데이터를 저장한다
>
>- RAID0 :동시에 하드디스크 사용하여 저장된다 ( 이때, 데이터 손실에 대한 위험은 크나 공간효율성면과 시간적인 면에서 좋다)
>
>  

>#### RAID1
>
>: RAID1의 핵심은 미러링이다. 즉, 똑같은 데이터의 거울을 만들어 놓는다 
>
>이는 하드디스크 용량의 절반밖에 사용되지 못하지만, 데이터 유실면에서 장점이 존재
>
>![RAID1](https://user-images.githubusercontent.com/52269210/71659596-81d2c780-2d8b-11ea-8e18-941cfd682b86.PNG)
>
>

>#### RAID 5
>
>- RAID1과 같은 데이터 유실 측면 에서의 장점과 RAID0에서의 공간효율 측면의 모든 장점을 가진다
>
>  ![RAID5](https://user-images.githubusercontent.com/52269210/71659607-8b5c2f80-2d8b-11ea-9619-5eb47262a498.PNG)
>
>이때, **3개** 이상의 하드디스크가 있어야만 구성이 가능하며, 대게는 5개 이상의 하드디스크를 구성한다
>
>AND, 하드디스크에 오류가 존재하면 패리티(Parity)를 이용해서 데이터를 복구할 수 있다
>
>ex> 짝수 패리티를 사용한다고 가정했을때 , 나머지 한개가가 고장이 나더라도 합이 짝수임을 유추하여 나머지 데이터를 유추하는 방식으로 한다



>#### 6.3.3 Linear RAID, RAID0, RAID1, RAID 5를 구현
>
>STEP1 . 하드디스크를 ADD 한다
>
>STEP2. 하드디스크를 확인하자
>
>STEP3. 9개의 하드디스크의 파티션 작용을 해준다
>
>```
># fdisk /dev/sdb
>Command : n -> 새로운 파티션 분할
>Select : p ->Primary 파티션 선택
>Partition number: 1 -> 파티션 번호를 1 선택
>First sector ->enter키 누름(처음부터)
>Last sector -> enter키 누름(끝까지)
>command :t -> 파일시스템 유형 선택
>Hex Code : fd
>Command :p -> 설정내용확인
>Command :w -> 설정 저장
>```
>
>STEP4: 파티션 확인과정
>
>![파티션결과](https://user-images.githubusercontent.com/52269210/71659614-9747f180-2d8b-11ea-913b-adb3110b55d7.PNG)
>
>
>
>####  STEP 5 Linear RAID 구축
>
>하드디스크 /dev/sdb1과 /dev/sdc1을 사용하여 Linear RAID 장치인 /deb/md9로 생성하자
>
>```bash
>mdadm --create /dev/md9 --level=linear --raid-devices=2 /dev/sdb1 /deb/sdc1
>```
>
>STEP6 . 포맷과정 후 마운트 한다
>
>```bash
># mkfs.ext4 /dev/md9
>// 디렉토리 형성 후 
># mkdir /raidLinear
>// /dev/md9을 raidLinear로 mount
># mount /dev/md9 /raidLinear 
>
>```






여기서 잠깐! 

```bash
//RAID 장치 중지
# mdam --stop /dev/md9
// 중지된 레이드를 가동
# mdam --run /dev/md9
// /dev/md9 장치의 상세한 내역을 출력
# mdam --detail /dev/md9
```



