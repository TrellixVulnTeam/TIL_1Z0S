## 여러화면 간 전환하기



### 04-1 레이아웃 인플레이션 이해하기

- 인플레이션이란?

  > 메모리에 객체화 되는 과정을 **인플레이션** 이라한다
  >
  > 구체적인 예?
  >
  > xml 파일은 레이아웃파일을 의미하는데, 앱이 실행되면 xml파일의 레이아웃의 내용이 메모리에
  > 객체화 되는 과정을 **인플레이션** 이라한다

MainActivity.java

```java
package com.example.p246;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Intent;
import android.os.Bundle;
import android.view.View;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

    }

        public void ckbt (View v){
                      Intent intent =
                    new Intent(getApplicationContext(), SecondAcitivity.class);

            intent.putExtra("num",100);
            
            
            
            // 만약 두번째 아에 액티비로 간다면 ?
             startActivity(intent);
            
            // 만약 두번째 액티비티로 갓다가 거기서 받은 정보를 가지고 mainActivity로 간다면?
             startActivityForResult(intent,101);

        }

}

```



- onCreate method:  화면이 만들어지는 method

  > 1. setContetnView(R.layout.레이아웃파일명)
  >
  >    : XML 레이아웃파일과 앱을 연결하는 메소드이다
  >
  >    <=> **화면에 나타낼 뷰를 지정하거나, 레이아웃내용을 메모리에 객체화하는 두가지 기능역할**

  

### 04-2 여러화면 만들고 화면간 전환하기

> 기본 지식 : 
>
> 1. 안드로이드 앱의 네가지 구성요소? 액티비티, 서비스, 브로드캐스트 수신자, 내용제공자
>
> 2. **startActivity()** : 액티비티를 소스코드에 띄울때
>
>    
>
>    - 버튼을 눌렀을때 새로운 액티비티를 실행하고 싶다
>
> ```java
>  public void ckbt (View v){
>      // 새롭게 이동할 액티비티의 객체를 형성해주자 : Intent
>      Intent intent = new Intent(getApplicationContext(), SecondAcitivity.class);
>      // 그 intent안에 num이라는 변수를 넣어줘       
>      intent.putExtra("num",100);
>      // 그 intent에 해당되는 activity를 실행하자
>       startActivity(intent);
>         }
> 
> ```
>
> 3.startAcitivity() vs startAcitivityResult()
>
> -  startAcitivityResult():
>
>   다시 원래의 엑티비티로 돌아오면서 응답을 받아 처리하는 코드가 필요하게 될때 
>
>   
>
>   ```java
>       @Override
>       protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {
>           super.onActivityResult(requestCode, resultCode, data);
>           // 
>           if (requestCode == 101){
>               if(resultCode == RESULT_OK){
>                   int result= data.getIntExtra("result",0);
>                   textView2.setText("result"+result);
>               }
>           }
>          
>   
>       }
>   }
>   
>   ```
>
>   
>
>   4. SetResult(): 새로 띄운 액티비티에서 이전 액티비티로 인텐트를 전달하고 싶을때 사용하는 메소드이다
>
>      ```java
>       @Override
>          protected void onCreate(Bundle savedInstanceState) {
>              super.onCreate(savedInstanceState);
>              setContentView(R.layout.activity_second_acivity);
>      
>              Intent intent2= new Intent();
>              intent2.putExtra("result",imgs);
>              ////////////////////setResult()를 통해 인텐트 전달/////////////
>              setResult(RESULT_OK,intent2);
>              
>              // 그리고 새로 실행된 액티비티를 끝내야 한다///
>              finish();
>      
>      
>          }
>      ```
>
>      
>
>   
>
>   5. StartActivityResult()
>
>      ```java
>       @Override
>          protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {
>              super.onActivityResult(requestCode, resultCode, data);
>              if(resultCode == RESULT_OK){
>      
>                  int[] result= data.getIntArrayExtra("result");
>                  imgsview1.setImageResource(result[0]);
>                  imgsview2.setImageResource(result[1]);
>                  imgsview3.setImageResource(result[2]);
>      
>              }
>      
>      
>          }
>      ```
>
>      - 건너온 배열을 받을때
>
>      ```java
>       int[] result= data.getIntArrayExtra("result");
>      ```
>
>      - 받은 배열의 이미지 한개를 띄울때
>
>        ```java
>        imgsview3.setImageResource(result[2])
>        ```
>
>        
>
>        



